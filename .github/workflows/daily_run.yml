name: Daily MA Strategy Report

# ... (on: schedule ë° workflow_dispatch: ë¸”ë¡ì€ ë³€ê²½ ì—†ìŒ) ...

jobs:
  run_daily_strategy:
    runs-on: ubuntu-latest
    
    steps:
    # ... (Checkout, Python Setup, Install dependencies ë‹¨ê³„ëŠ” ë³€ê²½ ì—†ìŒ) ...
    
    # --- 1. MA ì „ëµ ì‹¤í–‰ ë° ê²°ê³¼ ìº¡ì²˜ ---
    - name: ğŸš€ MA ì „ëµ ì‹¤í–‰ ë° ê²°ê³¼ ìº¡ì²˜
      id: strategy_output
      env:
        TEST_MODE: ${{ github.event.inputs.test_mode }}
      run: |
        echo "report<<EOF" >> $GITHUB_OUTPUT
        python daily_signal_generator.py >> $GITHUB_OUTPUT
        echo "EOF" >> $GITHUB_OUTPUT

    # --- 2. í…”ë ˆê·¸ë¨ ë©”ì‹œì§€ ì „ì†¡ (ë””ë²„ê·¸ ëª¨ë“œ í™œì„±í™”) ---
    - name: ğŸ“© í…”ë ˆê·¸ë¨ ë©”ì‹œì§€ ì „ì†¡ (ë””ë²„ê·¸)
      uses: appleboy/telegram-action@master
      with:
        to: ${{ secrets.TELEGRAM_CHAT_ID }} 
        token: ${{ secrets.TELEGRAM_TOKEN }}
        message: ${{ steps.strategy_output.outputs.report }}
        format: markdown 
        debug: true # â˜…â˜…â˜… ë””ë²„ê·¸ ëª¨ë“œ í™œì„±í™” â˜…â˜…â˜…
      if: always()
